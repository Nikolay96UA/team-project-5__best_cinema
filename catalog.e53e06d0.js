var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n("3Nna8"),n("bQpPI");var r=n("2shzp"),o=n("g5NAz");n("3Nna8");var l=n("3Nna8");document.querySelector("[data-close-modal]");const s=document.querySelector("[data-backdrop]"),i=(document.querySelector(".modal"),document.querySelector(".wrap")),c=new class{async fetchMovieDetails(e){try{return(await r.default.get(`${o.BASE_URL}/movie/${e}?api_key=${o.API_KEY}&language=en-US`)).data}catch(e){console.error(e)}}constructor(){}};let d;async function u(e){try{const t=await c.fetchMovieDetails(e);!function({poster_path:e,original_title:t,vote_average:a,vote_count:n,popularity:r,genres:o,overview:l}){d=`\n    <div class='container-image-wrap'>${e?`<img src="https://image.tmdb.org/t/p/w500${e}" alt="tizer">`:""}</div>\n    <div class='container-content-wrap'>\n        <h3 class='title'>${t}</h3>\n        <div class='content-wrap'>\n            <div class='features-wrap'>\n                <p class='feature-name'>Vote / Votes</p>\n                <p class='feature-name'>Popularity</p>\n                <p class='feature-name'>Genre</p>\n            </div>\n            <div class='features-values-wrap'>\n                <p class='feature-value'>${a}<span> / </span>${n}</p>\n                <p class='feature-value'>${r}</p>\n                <p class='feature-value'>${Object.values(o).map((e=>e.name)).join(" ")}</p>\n            </div>\n        </div>\n        <p class='feature-name feature-name-uppercase'>About</p>\n        <p class='feature-value feature-value-description'>${l}</p>\n        <button class="add-to-library" type="button">Add to my library</button>\n    </div>\n    <button class="close-modal" type="button" data-close-modal>\n          <svg width="24px" height="24px">\n            <use\n              class="close-modal__icon-close"\n              href="./images/icons/symbol-defs.svg#close-button"\n            ></use>\n          </svg>\n        </button>\n    `,i.innerHTML=d}(t),console.log(t),s.classList.toggle("backdrop--hidden");const a=document.querySelector(".add-to-library");localStorage.getItem("library")&&JSON.parse(localStorage.getItem("library")).includes(t)&&(a.innerText="Delete from my library"),a.addEventListener("click",(()=>{const e=localStorage.getItem("library")?JSON.parse(localStorage.getItem("library")):[];if("Add to my library"===a.innerText)e.push(t),localStorage.setItem("library",JSON.stringify(e)),a.innerText="Delete from my library";else{const n=e.findIndex((e=>e.name===t.name));-1!==n&&(e.splice(n,1),localStorage.setItem("library",JSON.stringify(e)),a.innerText="Add to my library")}}))}catch(e){console.dir(e)}}l.galleryEl.addEventListener("click",(function(e){if("LI"===e.target.nodeName){u(e.target.dataset.id)}}));
//# sourceMappingURL=catalog.e53e06d0.js.map
