{"mappings":"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","sources":["src/index.js","src/js/components/upcoming.js","src/js/components/trends.js","src/js/utils/fetchMovieDetails.js","src/js/components/modals/modal-pop-up.js","src/js/components/modals/modal-trailer.js"],"sourcesContent":["import './js/components/header';\nimport './js/components/hero';\nimport './js/components/upcoming';\nimport './js/components/trends';\nimport './js/components/scroll-to-top';\n\n// import './js/components/upcoming';\n// import './js/components/trends';\n// import './js/components/footer';\n// Mmodals\nimport './js/components/modals';\n","import { BASE_URL, API_KEY, URL_TREND_WEEK, URL_GENRE_LIST } from '../constants/api';\n\n// !!! Якщо розкоментувати цей рядок буде помилка tui-pagination\n// import { getTrendMoviesOfWeek } from './gallery';\nimport axios from 'axios';\n\nimport { API_KEY, BASE_URL, URL_TREND_DAY, URL_TREND_WEEK } from '../constants/api';\n\nconst upcoming = document.querySelector('#uncoming-this-mounth');\n\nfetch(`${BASE_URL}${URL_TREND_DAY}?api_key=${API_KEY}&page=1`)\n  .then(response => {\n    return response.json();\n  })\n  .then(movies => {\n    const popMovie = movies.results[0];\n    return popMovie.id;\n  })\n  .then(movieId => {\n    fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n      .then(response => {\n        return response.json();\n      })\n      .then(renderMovieCard);\n  });\n\nfunction renderMovieCard(movieWithGenre) {\n  const markup = `<div class=\"img-div\">\n    <img class=\"muvie-image-poster\"\n        src=\"https://image.tmdb.org/t/p/original/${movieWithGenre.poster_path}\"\n        alt=\"\" width=\"805\" height=\"458\">\n    <img class=\"muvie-image-backdrop\"\n        src=\"https://image.tmdb.org/t/p/original/${movieWithGenre.backdrop_path}\"\n        alt=\"\" width=\"805\" height=\"458\">\n</div>\n\n<div class=\"meta-items-div\">\n    <h2 class=\"muvie-name\">${movieWithGenre.title}</h2>\n    <div class=\"meta-div\">\n        <div class=\"meta-left\">\n            <ul class=\"muvie-meta-left-criterions\">\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Release date</b>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Vote / Votes</b>\n                </li>\n            </ul>\n            <ul class=\"muvie-meta-left-data\">\n                <li class=\"muvie-meta-item\">\n                    <span class=\"date-number\">${movieWithGenre.release_date}</span>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <span class=\"vote-numbers\">${\n                      movieWithGenre.vote_average\n                    }</span><span class=\"slash\"> / </span><span\n                        class=\"vote-numbers\">${movieWithGenre.vote_count}</span>\n                </li>\n            </ul>\n        </div>\n        <div class=\"meta-right\">\n            <ul class=\"muvie-meta-right-criterions\">\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Popularity</b>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Genre</b>\n                </li>\n            </ul>\n            <ul class=\"muvie-meta-right-data\">\n                <li class=\"muvie-meta-item\">\n                    <span class=\"data\">${movieWithGenre.popularity}</span>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <span class=\"data\">${movieWithGenre.genres.map(genre => `${genre.name}`)}</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class=\"muvie-description-item\">\n        <b class=\"criterion about\">About</b>\n        <p class=\"description\">${movieWithGenre.overview}</p>\n    </div>\n\n    <button type=\"button\" class=\"remind-btn\">Remind me</button>\n</div>`;\n  upcoming.insertAdjacentHTML('beforeend', markup);\n}\n","import {\n  BASE_URL,\n  API_KEY,\n  URL_TREND_WEEK,\n  URL_GENRE_LIST,\n} from '../constants/api';\nimport axios from 'axios';\n\nexport const weekTrendsEl = document.getElementById('trends-list');\n\nlet currentPage = 1;\nlet idsArray = [];\nlet categorysArray = [];\n\nonPageShow();\nasync function onPageShow() {\n  try {\n    const arrayTrandMovies = await getTrendMoviesOfWeek();\n    const { data: genresObject } = await axios.get(\n      `${BASE_URL}${URL_GENRE_LIST}?api_key=${API_KEY}`\n    );\n\n    const allUncomingArr = arrayTrandMovies.slice(0, 3);\n\n    const genresListArray = genresObject.genres;\n    for (let i = 0; i < genresListArray.length; i += 1) {\n      idsArray.push(genresListArray[i].id);\n      categorysArray.push(genresListArray[i].name);\n    }\n    createMarkUp(allUncomingArr);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function getTrendMoviesOfWeek() {\n  try {\n    const { data: moviesObject } = await axios.get(\n      `${BASE_URL}${URL_TREND_WEEK}?api_key=${API_KEY}&page=${currentPage}`\n    );\n    return moviesObject.results;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction createMarkUp(array) {\n  const markup = array\n    .map(\n      ({ title, genre_ids, release_date, poster_path, vote_average, id }) => {\n        return `\n        <li class=\"trends-card\" style=\"background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 63.48%, rgba(0, 0, 0, 0.9) 92.16%), url(https://image.tmdb.org/t/p/w500${poster_path})\" data-id=${id}>\n          <div class=\"trends-card-about\">\n            <h3 class=\"trends-card-subtitle\">${title}</h3>\n            <p class=\"trends-card-meta\">\n              ${getGenreForCard(genre_ids)} | ${release_date.slice(0, 4)}\n            </p>\n          </div>\n          <div class=\"vote-cinemas ${stars(Number(vote_average.toFixed(1)))}\">\n          </div>\n        </li>`;\n      }\n    )\n    .join('');\n  renderMarkup(markup);\n}\nfunction renderMarkup(markup) {\n  weekTrendsEl.innerHTML = markup;\n}\n\nfunction getGenreForCard(genreIds) {\n  const genreArr = [];\n  for (let i = 0; i <= genreIds.length; i += 1) {\n    if (idsArray.includes(genreIds[i])) {\n      const indx = idsArray.indexOf(genreIds[i]);\n      genreArr.push(categorysArray[indx]);\n    }\n  }\n  while (genreArr.length > 2) {\n    genreArr.pop();\n  }\n  return genreArr.join(', ');\n}\n\nfunction stars(vote) {\n  if (vote === 10) {\n    return 'ten-stars';\n  } else if (vote < 10 && vote > 8) {\n    return 'nine-stars';\n  } else if (vote === 8) {\n    return 'eight-stars';\n  } else if (vote < 8 && vote > 6) {\n    return 'seven-stars';\n  } else if (vote === 6) {\n    return 'six-stars';\n  } else if (vote < 6 && vote > 4) {\n    return 'five-stars';\n  } else if (vote === 4) {\n    return 'four-stars';\n  } else if (vote < 4 && vote > 2) {\n    return 'three-stars';\n  } else if (vote === 2) {\n    return 'two-stars';\n  } else if (vote < 2 && vote > 0) {\n    return 'one-star';\n  } else if (vote === 0) {\n    return 'zero-star';\n  } else if (!vote) {\n    return 'No rating';\n  }\n}\n","import axios from 'axios';\nimport { API_KEY, BASE_URL } from '../constants/api';\n// import { renderOnError } from '../components/hero';\nimport { onGalleryLinkClick } from '../components/gallery';\n\nclass MovieDatabaseAPI{\n  constructor() {\n  }\n\n  // Function to fetch detail info from TMDB API\nasync fetchMovieDetails(movieId) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    // renderOnError();\n  }\n}\n}\n\nexport {MovieDatabaseAPI};","import { MovieDatabaseAPI } from '../../utils/fetchMovieDetails';\n// import { onGalleryLinkClick } from '../components/gallery';\nimport { galleryEl } from '../gallery';\nimport { weekTrendsEl } from '../trends';\n\nconst closeModalBtn = document.querySelector('[data-close-modal]');\nconst backdrop = document.querySelector('[data-backdrop]');\nconst modal = document.querySelector('.modal');\nconst container = document.querySelector('.wrap');\n\n// const library = localStorage.getItem('library');\n\ncreateLibraryAtLocalStor();\nfunction createLibraryAtLocalStor() {\n  if (localStorage.getItem('library')) {\n    return;\n  }\n  localStorage.setItem('library', '[]');\n}\n\nconst movieDatabaseAPI = new MovieDatabaseAPI();\nlet detailMarkup;\n\n// form.addEventListener('submit', fetchDetailInfo);\ncloseModalBtn.addEventListener('click', closeModal);\nbackdrop.addEventListener('click', closeByBackdrop);\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n});\n\nfunction closeByBackdrop(e) {\n  const currentEl = e.target;\n  console.log('You click on:', currentEl);\n  if (currentEl !== backdrop) {\n    return;\n  } else {\n    closeModal();\n  }\n}\n\nfunction openModal() {\n  backdrop.classList.remove('backdrop--hidden');\n  // closeModalBtn.removeEventListener('click', closeModal);\n  // backdrop.removeEventListener('click', closeByBackdrop);\n}\n\nfunction closeModal() {\n  backdrop.classList.add('backdrop--hidden');\n  // galleryEl.removeEventListener('click', onGalleryLinkClick);\n}\n\nasync function fetchDetailInfo(movieId) {\n  try {\n    const result = await movieDatabaseAPI.fetchMovieDetails(movieId);\n    renderDetailMarkup(result);\n    console.log(result.id);\n\n    const addToLibraryBtn = document.querySelector('.add-to-library');\n\n    const library = localStorage.getItem('library');\n    const localStorageData = library ? JSON.parse(library) : [];\n\n    for (let i = 0; i < localStorageData.length; i++) {\n      const id = localStorageData[i].id;\n      if (id === result.id) {\n        console.log('Match found!');\n        addToLibraryBtn.innerText = 'Delete from my library';\n      }\n    }\n\n    addToLibraryBtn.addEventListener('click', () => {\n      if (addToLibraryBtn.innerText === 'Add to my library') {\n        localStorageData.push(result);\n        localStorage.setItem('library', JSON.stringify(localStorageData));\n        addToLibraryBtn.innerText = 'Delete from my library';\n      } else {\n        const index = localStorageData.findIndex(item => item.id === result.id);\n        if (index !== -1) {\n          localStorageData.splice(index, 1);\n          localStorage.setItem('library', JSON.stringify(localStorageData));\n          addToLibraryBtn.innerText = 'Add to my library';\n        }\n      }\n    });\n\n    // const parsedObjects = JSON.parse(localStorage.getItem('library'));\n    // console.log(parsedObjects);\n\n    // for (let i = 0; i < parsedObjects.length; i++) {\n    //   const id = parsedObjects[i].id;\n    //   if (id === result.id) {\n    //     console.log('Match found!');\n    //     addToLibraryBtn.innerText = 'Delete from my library';\n    //   }\n    // }\n\n    console.log('Лог після циклу');\n\n    console.log(result);\n\n    openModal();\n  } catch (error) {\n    console.dir(error);\n  }\n}\n\nfunction renderDetailMarkup({\n  poster_path,\n  original_title,\n  vote_average,\n  vote_count,\n  popularity,\n  genres,\n  overview,\n}) {\n  detailMarkup = `\n    <div class='container-image-wrap'>${\n      poster_path\n        ? `<img src=\"https://image.tmdb.org/t/p/w342/${poster_path}\" alt=\"tizer\">`\n        : ''\n    }</div>\n    <div class='container-content-wrap'>\n      <h3 class='title'>${original_title}</h3>\n      <div class='content-wrap'>\n        <div class='features-wrap'>\n          <p class='feature-name'>Vote / Votes</p>\n          <p class='feature-name'>Popularity</p>\n          <p class='feature-name'>Genre</p>\n        </div>\n        <div class='features-values-wrap'>\n          <p class='feature-value'><span class=\"vote-numbers\">${vote_average}</span><span class=\"slash\"> / </span><span class=\"vote-numbers\">${vote_count}</span></p>\n          <p class='feature-value'>${popularity}</p>\n          <p class='feature-value'>${Object.values(genres)\n            .map(genre => genre.name)\n            .join(' ')}</p>\n        </div>\n      </div>\n      <p class='feature-name feature-name-uppercase'>About</p>\n      <p class='feature-value feature-value-description'>${overview}</p>\n      <button class=\"add-to-library\" type=\"button\">Add to my library</button>\n    </div>\n    `;\n  container.innerHTML = detailMarkup;\n}\n\ngalleryEl.addEventListener('click', onGalleryLinkClick);\nweekTrendsEl.addEventListener('click', onGalleryLinkClick);\n\nfunction onGalleryLinkClick(event) {\n  if (event.target.nodeName === 'LI') {\n    const movieId = event.target.dataset.id;\n    console.log('Это LI!!!');\n    fetchDetailInfo(movieId);\n  }\n}\n","import { getTrailer, getMovieTrailer } from '../../utils/fetchTrendDay';\n\nconst heroEl = document.querySelector('.hero');\nconst youTubePlayerEl = document.querySelector('.iframe-trailer');\nconst trailerBackdropEl = document.querySelector('.trailer-modal__backdrop');\nconst trailerCloseBtnEl = document.querySelector(\n  '.trailer-modal__button-colse'\n);\nconst trailerContainerEl = document.querySelector('.trailer-container');\nconst noMovieContainerEl = document.querySelector('.no-movie-container');\n\nheroEl.addEventListener('click', onTrailerBtnClick);\n\nasync function onTrailerBtnClick(e) {\n  const trailerBtn = e.target;\n  if (trailerBtn.classList.contains('hero__btn')) {\n    // console.log('you click here');\n\n    showTrailerModal1();\n\n    trailerContainerEl.classList.remove('trailer-is-hidden');\n    noMovieContainerEl.classList.add('trailer-is-hidden');\n\n    const movieId = trailerBtn.dataset.id;\n    renderTrailer(movieId);\n  }\n}\n\nfunction showTrailerModal1() {\n  document.body.classList.add('show-trailer-modal');\n  window.addEventListener('keydown', onEscPress);\n  trailerBackdropEl.addEventListener('click', onBackdropClick);\n  trailerCloseBtnEl.addEventListener('click', closeModal);\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  const backdrop = e.target;\n  if (backdrop.classList.contains('trailer-modal__backdrop')) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  document.body.classList.remove('show-trailer-modal');\n  youTubePlayerEl.src = '';\n  window.removeEventListener('keydown', onEscPress);\n  trailerBackdropEl.removeEventListener('click', onBackdropClick);\n  trailerCloseBtnEl.removeEventListener('click', closeModal);\n\n  trailerContainerEl.classList.add('trailer-is-hidden');\n  noMovieContainerEl.classList.remove('trailer-is-hidden');\n}\n\nasync function renderTrailer(movieId) {\n  let movieTrailerKey = await getRandomTrailerKey(movieId);\n\n  youTubePlayerEl.src = `https://www.youtube.com/embed/${movieTrailerKey}`;\n}\n\nasync function getRandomTrailerKey(movieId) {\n  const movieTrailers = await getMovieTrailer(movieId);\n\n  const min = 0;\n  const max = movieTrailers.results.length;\n  const randomTrailer = Math.floor(Math.random() * (max - min + 1)) + min;\n\n  const movieTrailerKey = movieTrailers.results[randomTrailer]?.key;\n\n  if (!movieTrailerKey) {\n    trailerContainerEl.classList.add('trailer-is-hidden');\n    noMovieContainerEl.classList.remove('trailer-is-hidden');\n    return;\n  }\n\n  return movieTrailerKey;\n}\n"],"names":["parcelRequire","$g5NAz","$2278764e9f3f2129$var$upcoming","document","querySelector","$2278764e9f3f2129$var$renderMovieCard","movieWithGenre","markup","poster_path","backdrop_path","title","release_date","vote_average","vote_count","popularity","genres","map","genre","name","overview","insertAdjacentHTML","fetch","BASE_URL","URL_TREND_DAY","API_KEY","then","response","json","movies","results","id","movieId","$6763c1580dddb1f2$export$cd52274a76bf5a72","getElementById","$6763c1580dddb1f2$var$idsArray","$6763c1580dddb1f2$var$categorysArray","async","arrayTrandMovies","data","moviesObject","$2shzp","default","get","URL_TREND_WEEK","error","console","log","$6763c1580dddb1f2$var$getTrendMoviesOfWeek","genresObject","URL_GENRE_LIST","allUncomingArr","slice","genresListArray","i","length","push","genre_ids","genreIds","genreArr","includes","indx","indexOf","pop","join","$6763c1580dddb1f2$var$getGenreForCard","vote","Number","toFixed","innerHTML","$6763c1580dddb1f2$var$onPageShow","$009f9a15b4d5abbb$var$closeModalBtn","$009f9a15b4d5abbb$var$backdrop","$009f9a15b4d5abbb$var$container","localStorage","getItem","setItem","$009f9a15b4d5abbb$var$createLibraryAtLocalStor","$009f9a15b4d5abbb$var$movieDatabaseAPI","constructor","$009f9a15b4d5abbb$var$detailMarkup","$009f9a15b4d5abbb$var$closeModal","classList","add","$009f9a15b4d5abbb$var$fetchDetailInfo","result","fetchMovieDetails","original_title","Object","values","$009f9a15b4d5abbb$var$renderDetailMarkup","addToLibraryBtn","library","localStorageData","JSON","parse","innerText","addEventListener","stringify","index","findIndex","item","splice","remove","dir","$009f9a15b4d5abbb$var$onGalleryLinkClick","event","target","nodeName","dataset","e","currentEl","key","$3Nna8","galleryEl","$evq3T","$e28fa25fd6faf5af$var$heroEl","$e28fa25fd6faf5af$var$youTubePlayerEl","$e28fa25fd6faf5af$var$trailerBackdropEl","$e28fa25fd6faf5af$var$trailerCloseBtnEl","$e28fa25fd6faf5af$var$trailerContainerEl","$e28fa25fd6faf5af$var$noMovieContainerEl","$e28fa25fd6faf5af$var$onEscPress","code","$e28fa25fd6faf5af$var$closeModal","$e28fa25fd6faf5af$var$onBackdropClick","contains","body","src","window","removeEventListener","trailerBtn","movieTrailerKey","ref","movieTrailers","getMovieTrailer","min","max","randomTrailer","Math","floor","random","$e28fa25fd6faf5af$var$getRandomTrailerKey","$e28fa25fd6faf5af$var$renderTrailer"],"version":3,"file":"index.e04d87fc.js.map"}