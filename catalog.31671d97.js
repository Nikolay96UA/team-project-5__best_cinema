var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r),r("3Nna8"),r("bQpPI");var n=r("2shzp"),l=r("g5NAz");r("3Nna8");var o=r("3Nna8");const i=document.querySelector("[data-close-modal]"),s=document.querySelector("[data-backdrop]"),c=(document.querySelector(".modal"),document.querySelector(".wrap")),d=new class{async fetchMovieDetails(e){try{return(await n.default.get(`${l.BASE_URL}/movie/${e}?api_key=${l.API_KEY}&language=en-US`)).data}catch(e){console.error(e)}}constructor(){}};let u;function p(){s.classList.toggle("backdrop--hidden")}async function f(e){try{const t=await d.fetchMovieDetails(e);!function({poster_path:e,original_title:t,vote_average:a,vote_count:r,popularity:n,genres:l,overview:o}){u=`\n    <div class='container-image-wrap'>${e?`<img src="https://image.tmdb.org/t/p/w500${e}" alt="tizer">`:""}</div>\n    <div class='container-content-wrap'>\n      <h3 class='title'>${t}</h3>\n      <div class='content-wrap'>\n        <div class='features-wrap'>\n          <p class='feature-name'>Vote / Votes</p>\n          <p class='feature-name'>Popularity</p>\n          <p class='feature-name'>Genre</p>\n        </div>\n        <div class='features-values-wrap'>\n          <p class='feature-value'>${a}<span> / </span>${r}</p>\n          <p class='feature-value'>${n}</p>\n          <p class='feature-value'>${Object.values(l).map((e=>e.name)).join(" ")}</p>\n        </div>\n      </div>\n      <p class='feature-name feature-name-uppercase'>About</p>\n      <p class='feature-value feature-value-description'>${o}</p>\n      <button class="add-to-library" type="button">Add to my library</button>\n    </div>\n    `,c.innerHTML=u}(t),console.log(t),p();const a=document.querySelector(".add-to-library");localStorage.getItem("library")&&JSON.parse(localStorage.getItem("library")).includes(t)&&(a.innerText="Delete from my library"),a.addEventListener("click",(()=>{const e=localStorage.getItem("library")?JSON.parse(localStorage.getItem("library")):[];if("Add to my library"===a.innerText)e.push(t),localStorage.setItem("library",JSON.stringify(e)),a.innerText="Delete from my library";else{const r=e.findIndex((e=>e.name===t.name));-1!==r&&(e.splice(r,1),localStorage.setItem("library",JSON.stringify(e)),a.innerText="Add to my library")}}))}catch(e){console.dir(e)}}i.addEventListener("click",p),o.galleryEl.addEventListener("click",(function(e){if("LI"===e.target.nodeName){f(e.target.dataset.id)}}));
//# sourceMappingURL=catalog.31671d97.js.map
