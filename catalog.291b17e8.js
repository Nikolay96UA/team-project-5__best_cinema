var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var r=t[e];delete t[e];var n={id:e,exports:{}};return a[e]=n,r.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,a){t[e]=a},e.parcelRequired7c6=r),r("3Nna8"),r("bQpPI");var n=r("2shzp"),l=r("g5NAz");r("3Nna8");var o=r("3Nna8");const s=document.querySelector("[data-close-modal]"),i=document.querySelector("[data-backdrop]"),c=(document.querySelector(".modal"),document.querySelector(".wrap")),d=new class{async fetchMovieDetails(e){try{return(await n.default.get(`${l.BASE_URL}/movie/${e}?api_key=${l.API_KEY}&language=en-US`)).data}catch(e){console.error(e)}}constructor(){}};let u;function p(){i.classList.toggle("backdrop--hidden")}async function f(e){try{const a=await d.fetchMovieDetails(e);!function({poster_path:e,original_title:a,vote_average:t,vote_count:r,popularity:n,genres:l,overview:o}){u=`\n    <div class='container-image-wrap'>${e?`<img src="https://image.tmdb.org/t/p/w342/${e}" alt="tizer">`:""}</div>\n    <div class='container-content-wrap'>\n      <h3 class='title'>${a}</h3>\n      <div class='content-wrap'>\n        <div class='features-wrap'>\n          <p class='feature-name'>Vote / Votes</p>\n          <p class='feature-name'>Popularity</p>\n          <p class='feature-name'>Genre</p>\n        </div>\n        <div class='features-values-wrap'>\n          <p class='feature-value'><span class="vote-numbers">${t}</span><span class="slash"> / </span><span class="vote-numbers">${r}</span></p>\n          <p class='feature-value'>${n}</p>\n          <p class='feature-value'>${Object.values(l).map((e=>e.name)).join(" ")}</p>\n        </div>\n      </div>\n      <p class='feature-name feature-name-uppercase'>About</p>\n      <p class='feature-value feature-value-description'>${o}</p>\n      <button class="add-to-library" type="button">Add to my library</button>\n    </div>\n    `,c.innerHTML=u}(a),console.log(a),p();const t=document.querySelector(".add-to-library");localStorage.getItem("library")&&JSON.parse(localStorage.getItem("library")).includes(a)&&(t.innerText="Delete from my library"),t.addEventListener("click",(()=>{const e=localStorage.getItem("library")?JSON.parse(localStorage.getItem("library")):[];if("Add to my library"===t.innerText)e.push(a),localStorage.setItem("library",JSON.stringify(e)),t.innerText="Delete from my library";else{const r=e.findIndex((e=>e.name===a.name));-1!==r&&(e.splice(r,1),localStorage.setItem("library",JSON.stringify(e)),t.innerText="Add to my library")}}))}catch(e){console.dir(e)}}s.addEventListener("click",p),o.galleryEl.addEventListener("click",(function(e){if("LI"===e.target.nodeName){f(e.target.dataset.id)}}));
//# sourceMappingURL=catalog.291b17e8.js.map
