{"mappings":"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","sources":["src/index.js","src/js/components/upcoming.js","src/js/components/trends.js","src/js/components/modals/modal-pop-up.js","src/js/utils/fetchMovieDetails.js","src/js/components/modals/modal-trailer.js"],"sourcesContent":["import './js/components/header';\nimport './js/components/hero';\nimport './js/components/upcoming';\nimport './js/components/trends';\nimport './js/components/scroll-to-top';\n\n// import './js/components/upcoming';\n// import './js/components/trends';\n// import './js/components/footer';\n// Mmodals\nimport './js/components/modals';\n","import { BASE_URL, API_KEY, URL_TREND_WEEK, URL_GENRE_LIST } from '../constants/api';\n\n// !!! Якщо розкоментувати цей рядок буде помилка tui-pagination\n// import { getTrendMoviesOfWeek } from './gallery';\nimport axios from 'axios';\n\nimport { API_KEY, BASE_URL, URL_TREND_DAY, URL_TREND_WEEK } from '../constants/api';\n\nconst upcoming = document.querySelector('#uncoming-this-mounth');\n\nfetch(`${BASE_URL}${URL_TREND_DAY}?api_key=${API_KEY}&page=1`)\n  .then(response => {\n    return response.json();\n  })\n  .then(movies => {\n    const popMovie = movies.results[0];\n    return popMovie.id;\n  })\n  .then(movieId => {\n    fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n      .then(response => {\n        return response.json();\n      })\n      .then(renderMovieCard);\n  });\n\nfunction renderMovieCard(movieWithGenre) {\n  const markup = `<div class=\"img-div\">\n    <img class=\"muvie-image-poster\"\n        src=\"https://image.tmdb.org/t/p/original/${movieWithGenre.poster_path}\"\n        alt=\"\" width=\"805\" height=\"458\">\n    <img class=\"muvie-image-backdrop\"\n        src=\"https://image.tmdb.org/t/p/original/${movieWithGenre.backdrop_path}\"\n        alt=\"\" width=\"805\" height=\"458\">\n</div>\n\n<div class=\"meta-items-div\">\n    <h2 class=\"muvie-name\">${movieWithGenre.title}</h2>\n    <div class=\"meta-div\">\n        <div class=\"meta-left\">\n            <ul class=\"muvie-meta-left-criterions\">\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Release date</b>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Vote / Votes</b>\n                </li>\n            </ul>\n            <ul class=\"muvie-meta-left-data\">\n                <li class=\"muvie-meta-item\">\n                    <span class=\"date-number\">${movieWithGenre.release_date}</span>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <span class=\"vote-numbers\">${\n                      movieWithGenre.vote_average\n                    }</span><span class=\"slash\"> / </span><span\n                        class=\"vote-numbers\">${movieWithGenre.vote_count}</span>\n                </li>\n            </ul>\n        </div>\n        <div class=\"meta-right\">\n            <ul class=\"muvie-meta-right-criterions\">\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Popularity</b>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <b class=\"criterion\">Genre</b>\n                </li>\n            </ul>\n            <ul class=\"muvie-meta-right-data\">\n                <li class=\"muvie-meta-item\">\n                    <span class=\"data\">${movieWithGenre.popularity}</span>\n                </li>\n                <li class=\"muvie-meta-item\">\n                    <span class=\"data\">${movieWithGenre.genres.map(genre => `${genre.name}`)}</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class=\"muvie-description-item\">\n        <b class=\"criterion about\">About</b>\n        <p class=\"description\">${movieWithGenre.overview}</p>\n    </div>\n\n    <button type=\"button\" class=\"remind-btn\">Remind me</button>\n</div>`;\n  upcoming.insertAdjacentHTML('beforeend', markup);\n}\n","import {\n  BASE_URL,\n  API_KEY,\n  URL_TREND_WEEK,\n  URL_GENRE_LIST,\n} from '../constants/api';\nimport axios from 'axios';\n\nexport const weekTrendsEl = document.getElementById('trends-list');\n\nlet currentPage = 1;\nlet idsArray = [];\nlet categorysArray = [];\n\nonPageShow();\nasync function onPageShow() {\n  try {\n    const arrayTrandMovies = await getTrendMoviesOfWeek();\n    const { data: genresObject } = await axios.get(\n      `${BASE_URL}${URL_GENRE_LIST}?api_key=${API_KEY}`\n    );\n\n    const allUncomingArr = arrayTrandMovies.slice(0, 3);\n\n    const genresListArray = genresObject.genres;\n    for (let i = 0; i < genresListArray.length; i += 1) {\n      idsArray.push(genresListArray[i].id);\n      categorysArray.push(genresListArray[i].name);\n    }\n    createMarkUp(allUncomingArr);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function getTrendMoviesOfWeek() {\n  try {\n    const { data: moviesObject } = await axios.get(\n      `${BASE_URL}${URL_TREND_WEEK}?api_key=${API_KEY}&page=${currentPage}`\n    );\n    return moviesObject.results;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction createMarkUp(array) {\n  const markup = array\n    .map(\n      ({ title, genre_ids, release_date, poster_path, vote_average, id }) => {\n        return `\n        <li class=\"trends-card\" style=\"background-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 63.48%, rgba(0, 0, 0, 0.9) 92.16%), url(https://image.tmdb.org/t/p/w500${poster_path})\" data-id=${id}>\n          <div class=\"trends-card-about\">\n            <h3 class=\"trends-card-subtitle\">${title}</h3>\n            <p class=\"trends-card-meta\">\n              ${getGenreForCard(genre_ids)} | ${release_date.slice(0, 4)}\n            </p>\n          </div>\n          <div class=\"vote-cinemas ${stars(Number(vote_average.toFixed(1)))}\">\n          </div>\n        </li>`;\n      }\n    )\n    .join('');\n  renderMarkup(markup);\n}\nfunction renderMarkup(markup) {\n  weekTrendsEl.innerHTML = markup;\n}\n\nfunction getGenreForCard(genreIds) {\n  const genreArr = [];\n  for (let i = 0; i <= genreIds.length; i += 1) {\n    if (idsArray.includes(genreIds[i])) {\n      const indx = idsArray.indexOf(genreIds[i]);\n      genreArr.push(categorysArray[indx]);\n    }\n  }\n  while (genreArr.length > 2) {\n    genreArr.pop();\n  }\n  return genreArr.join(', ');\n}\n\nfunction stars(vote) {\n  if (vote === 10) {\n    return 'ten-stars';\n  } else if (vote < 10 && vote > 8) {\n    return 'nine-stars';\n  } else if (vote === 8) {\n    return 'eight-stars';\n  } else if (vote < 8 && vote > 6) {\n    return 'seven-stars';\n  } else if (vote === 6) {\n    return 'six-stars';\n  } else if (vote < 6 && vote > 4) {\n    return 'five-stars';\n  } else if (vote === 4) {\n    return 'four-stars';\n  } else if (vote < 4 && vote > 2) {\n    return 'three-stars';\n  } else if (vote === 2) {\n    return 'two-stars';\n  } else if (vote < 2 && vote > 0) {\n    return 'one-star';\n  } else if (vote === 0) {\n    return 'zero-star';\n  } else if (!vote) {\n    return 'No rating';\n  }\n}\n","import { MovieDatabaseAPI } from '../../utils/fetchMovieDetails';\n// import { onGalleryLinkClick } from '../components/gallery';\nimport { galleryEl } from '../gallery';\nimport { weekTrendsEl } from '../trends';\n\nconst closeModalBtn = document.querySelector('[data-close-modal]');\nconst backdrop = document.querySelector('[data-backdrop]');\nconst modal = document.querySelector('.modal');\nconst container = document.querySelector('.wrap');\n\n// const library = localStorage.getItem('library');\n\ncreateLibraryAtLocalStor();\nfunction createLibraryAtLocalStor() {\n  if (localStorage.getItem('library')) {\n    return;\n  }\n  localStorage.setItem('library', '[]');\n}\n\nconst movieDatabaseAPI = new MovieDatabaseAPI();\nlet detailMarkup;\n\n// form.addEventListener('submit', fetchDetailInfo);\ncloseModalBtn.addEventListener('click', closeModal);\nbackdrop.addEventListener('click', closeByBackdrop);\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n});\n\nfunction closeByBackdrop(e) {\n  const currentEl = e.target;\n  console.log('You click on:', currentEl);\n  if (currentEl !== backdrop) {\n    return;\n  } else {\n    closeModal();\n  }\n}\n\nfunction openModal() {\n  backdrop.classList.remove('backdrop--hidden');\n  // closeModalBtn.removeEventListener('click', closeModal);\n  // backdrop.removeEventListener('click', closeByBackdrop);\n}\n\nfunction closeModal() {\n  backdrop.classList.add('backdrop--hidden');\n  // galleryEl.removeEventListener('click', onGalleryLinkClick);\n}\n\nasync function fetchDetailInfo(movieId) {\n  try {\n    const result = await movieDatabaseAPI.fetchMovieDetails(movieId);\n    renderDetailMarkup(result);\n    console.log(result.id);\n\n    const addToLibraryBtn = document.querySelector('.add-to-library');\n\n    const library = localStorage.getItem('library');\n    const localStorageData = library ? JSON.parse(library) : [];\n\n    for (let i = 0; i < localStorageData.length; i++) {\n      const id = localStorageData[i].id;\n      if (id === result.id) {\n        console.log('Match found!');\n        addToLibraryBtn.innerText = 'Delete from my library';\n      }\n    }\n\n    addToLibraryBtn.addEventListener('click', () => {\n      if (addToLibraryBtn.innerText === 'Add to my library') {\n        localStorageData.push(result);\n        localStorage.setItem('library', JSON.stringify(localStorageData));\n        addToLibraryBtn.innerText = 'Delete from my library';\n      } else {\n        const index = localStorageData.findIndex(item => item.id === result.id);\n        if (index !== -1) {\n          localStorageData.splice(index, 1);\n          localStorage.setItem('library', JSON.stringify(localStorageData));\n          addToLibraryBtn.innerText = 'Add to my library';\n        }\n      }\n    });\n\n    // const parsedObjects = JSON.parse(localStorage.getItem('library'));\n    // console.log(parsedObjects);\n\n    // for (let i = 0; i < parsedObjects.length; i++) {\n    //   const id = parsedObjects[i].id;\n    //   if (id === result.id) {\n    //     console.log('Match found!');\n    //     addToLibraryBtn.innerText = 'Delete from my library';\n    //   }\n    // }\n\n    console.log('Лог після циклу');\n\n    console.log(result);\n\n    openModal();\n  } catch (error) {\n    console.dir(error);\n  }\n}\n\nfunction renderDetailMarkup({\n  poster_path,\n  original_title,\n  vote_average,\n  vote_count,\n  popularity,\n  genres,\n  overview,\n}) {\n  detailMarkup = `\n    <div class='container-image-wrap'>${\n      poster_path\n        ? `<img src=\"https://image.tmdb.org/t/p/w342/${poster_path}\" alt=\"tizer\">`\n        : ''\n    }</div>\n    <div class='container-content-wrap'>\n      <h3 class='title'>${original_title}</h3>\n      <div class='content-wrap'>\n        <div class='features-wrap'>\n          <p class='feature-name'>Vote / Votes</p>\n          <p class='feature-name'>Popularity</p>\n          <p class='feature-name'>Genre</p>\n        </div>\n        <div class='features-values-wrap'>\n          <p class='feature-value'><span class=\"vote-numbers\">${vote_average}</span><span class=\"slash\"> / </span><span class=\"vote-numbers\">${vote_count}</span></p>\n          <p class='feature-value'>${popularity}</p>\n          <p class='feature-value'>${Object.values(genres)\n            .map(genre => genre.name)\n            .join(' ')}</p>\n        </div>\n      </div>\n      <p class='feature-name feature-name-uppercase'>About</p>\n      <p class='feature-value feature-value-description'>${overview}</p>\n      <button class=\"add-to-library\" type=\"button\">Add to my library</button>\n    </div>\n    `;\n  container.innerHTML = detailMarkup;\n}\n\ngalleryEl.addEventListener('click', onGalleryLinkClick);\nweekTrendsEl.addEventListener('click', onGalleryLinkClick);\n\nfunction onGalleryLinkClick(event) {\n  if (event.target.nodeName === 'LI') {\n    const movieId = event.target.dataset.id;\n    console.log('Это LI!!!');\n    fetchDetailInfo(movieId);\n  }\n}\n","import axios from 'axios';\nimport { API_KEY, BASE_URL } from '../constants/api';\n// import { renderOnError } from '../components/hero';\nimport { onGalleryLinkClick } from '../components/gallery';\n\nclass MovieDatabaseAPI{\n  constructor() {\n  }\n\n  // Function to fetch detail info from TMDB API\nasync fetchMovieDetails(movieId) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    // renderOnError();\n  }\n}\n}\n\nexport {MovieDatabaseAPI};","import { getTrailer, getMovieTrailer } from '../../utils/fetchTrendDay';\n\nconst heroEl = document.querySelector('.hero');\nconst youTubePlayerEl = document.querySelector('.iframe-trailer');\nconst trailerBackdropEl = document.querySelector('.trailer-modal__backdrop');\nconst trailerCloseBtnEl = document.querySelector(\n  '.trailer-modal__button-colse'\n);\nconst trailerContainerEl = document.querySelector('.trailer-container');\nconst noMovieContainerEl = document.querySelector('.no-movie-container');\n\nheroEl.addEventListener('click', onTrailerBtnClick);\n\nasync function onTrailerBtnClick(e) {\n  const trailerBtn = e.target;\n  if (trailerBtn.classList.contains('hero__btn')) {\n    // console.log('you click here');\n\n    showTrailerModal1();\n\n    trailerContainerEl.classList.remove('trailer-is-hidden');\n    noMovieContainerEl.classList.add('trailer-is-hidden');\n\n    const movieId = trailerBtn.dataset.id;\n    renderTrailer(movieId);\n  }\n}\n\nfunction showTrailerModal1() {\n  document.body.classList.add('show-trailer-modal');\n  window.addEventListener('keydown', onEscPress);\n  trailerBackdropEl.addEventListener('click', onBackdropClick);\n  trailerCloseBtnEl.addEventListener('click', closeModal);\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  const backdrop = e.target;\n  if (backdrop.classList.contains('trailer-modal__backdrop')) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  document.body.classList.remove('show-trailer-modal');\n  youTubePlayerEl.src = '';\n  window.removeEventListener('keydown', onEscPress);\n  trailerBackdropEl.removeEventListener('click', onBackdropClick);\n  trailerCloseBtnEl.removeEventListener('click', closeModal);\n\n  trailerContainerEl.classList.add('trailer-is-hidden');\n  noMovieContainerEl.classList.remove('trailer-is-hidden');\n}\n\nasync function renderTrailer(movieId) {\n  let movieTrailerKey = await getRandomTrailerKey(movieId);\n\n  youTubePlayerEl.src = `https://www.youtube.com/embed/${movieTrailerKey}`;\n}\n\nasync function getRandomTrailerKey(movieId) {\n  const movieTrailers = await getMovieTrailer(movieId);\n\n  const min = 0;\n  const max = movieTrailers.results.length;\n  const randomTrailer = Math.floor(Math.random() * (max - min + 1)) + min;\n\n  const movieTrailerKey = movieTrailers.results[randomTrailer]?.key;\n\n  if (!movieTrailerKey) {\n    trailerContainerEl.classList.add('trailer-is-hidden');\n    noMovieContainerEl.classList.remove('trailer-is-hidden');\n    return;\n  }\n\n  return movieTrailerKey;\n}\n"],"names":["parcelRequire","$lIyNj","$151e1b73a1b4c7fb$var$upcoming","document","querySelector","$151e1b73a1b4c7fb$var$renderMovieCard","movieWithGenre","markup","concat","poster_path","backdrop_path","title","release_date","vote_average","vote_count","popularity","genres","map","genre","name","overview","insertAdjacentHTML","fetch","BASE_URL","URL_TREND_DAY","API_KEY","then","response","json","movies","results","id","movieId","$bpxeT","$dcd18c37fad0f628$export$cd52274a76bf5a72","getElementById","$dcd18c37fad0f628$var$idsArray","$dcd18c37fad0f628$var$categorysArray","$dcd18c37fad0f628$var$_onPageShow","$parcel$interopDefault","$2TvXO","mark","_callee","arrayTrandMovies","ref","genresObject","allUncomingArr","genresListArray","i","$dcd18c37fad0f628$var$getTrendMoviesOfWeek","_ctx","sent","$dIxxU","default","get","URL_GENRE_LIST","data","slice","length","push","$dcd18c37fad0f628$var$createMarkUp","console","log","t0","apply","this","arguments","$dcd18c37fad0f628$var$_getTrendMoviesOfWeek","moviesObject","URL_TREND_WEEK","array","innerHTML","$dcd18c37fad0f628$var$renderMarkup","param","genre_ids","genreIds","genreArr","includes","indx","indexOf","pop","join","$dcd18c37fad0f628$var$getGenreForCard","vote","$dcd18c37fad0f628$var$stars","Number","toFixed","$dcd18c37fad0f628$var$onPageShow","$b5dad83a5435f19f$export$f1dd75fcc2a6c47a","MovieDatabaseAPI","key","error","$3e7e35b6b866e1e1$var$closeModalBtn","$3e7e35b6b866e1e1$var$backdrop","$3e7e35b6b866e1e1$var$container","localStorage","getItem","setItem","$3e7e35b6b866e1e1$var$createLibraryAtLocalStor","$3e7e35b6b866e1e1$var$detailMarkup","$3e7e35b6b866e1e1$var$movieDatabaseAPI","$3e7e35b6b866e1e1$var$openModal","classList","remove","$3e7e35b6b866e1e1$var$closeModal","add","$3e7e35b6b866e1e1$var$_fetchDetailInfo","result","addToLibraryBtn","library","localStorageData","fetchMovieDetails","$3e7e35b6b866e1e1$var$renderDetailMarkup","JSON","parse","innerText","addEventListener","stringify","index","findIndex","item","splice","dir","original_title","Object","values","$3e7e35b6b866e1e1$var$onGalleryLinkClick","event","target","nodeName","dataset","$3e7e35b6b866e1e1$var$fetchDetailInfo","e","currentEl","$kDSvw","galleryEl","$1585ac0c1bbc7b76$var$heroEl","$1585ac0c1bbc7b76$var$youTubePlayerEl","$1585ac0c1bbc7b76$var$trailerBackdropEl","$1585ac0c1bbc7b76$var$trailerCloseBtnEl","$1585ac0c1bbc7b76$var$trailerContainerEl","$1585ac0c1bbc7b76$var$noMovieContainerEl","$1585ac0c1bbc7b76$var$_onTrailerBtnClick","trailerBtn","contains","$1585ac0c1bbc7b76$var$showTrailerModal1","$1585ac0c1bbc7b76$var$renderTrailer","body","window","$1585ac0c1bbc7b76$var$onEscPress","$1585ac0c1bbc7b76$var$onBackdropClick","$1585ac0c1bbc7b76$var$closeModal","code","src","removeEventListener","$1585ac0c1bbc7b76$var$_renderTrailer","movieTrailerKey","$1585ac0c1bbc7b76$var$getRandomTrailerKey","$1585ac0c1bbc7b76$var$_getRandomTrailerKey","movieTrailers","max","randomTrailer","$AWYEZ","getMovieTrailer","Math","floor","random"],"version":3,"file":"index.e4826d57.js.map"}